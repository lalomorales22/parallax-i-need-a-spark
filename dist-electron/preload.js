"use strict";const o=require("electron");console.log("Preload script loaded");try{o.contextBridge.exposeInMainWorld("ipcRenderer",{on(...e){const[r,n]=e;o.ipcRenderer.on(r,(t,...i)=>n(t,...i))},off(...e){const[r,...n]=e;o.ipcRenderer.off(r,...n)},send(...e){const[r,...n]=e;o.ipcRenderer.send(r,...n)},invoke(...e){const[r,...n]=e;return o.ipcRenderer.invoke(r,...n)},getSetting:e=>o.ipcRenderer.invoke("get-setting",e),saveSetting:(e,r)=>o.ipcRenderer.invoke("save-setting",e,r),getSparkMode:()=>o.ipcRenderer.invoke("get-spark-mode"),getParallaxHost:()=>o.ipcRenderer.invoke("get-parallax-host"),startHost:()=>o.ipcRenderer.invoke("start-host"),startClient:()=>o.ipcRenderer.invoke("start-client"),startVoice:()=>o.ipcRenderer.invoke("start-voice"),closeApp:()=>o.ipcRenderer.invoke("close-app"),startNetworkDiscovery:(e,r,n,t)=>o.ipcRenderer.invoke("start-network-discovery",e,r,n,t),stopNetworkDiscovery:()=>o.ipcRenderer.invoke("stop-network-discovery"),getAllDevices:()=>o.ipcRenderer.invoke("get-all-devices"),getDevice:e=>o.ipcRenderer.invoke("get-device",e),browseModels:(e,r)=>o.ipcRenderer.invoke("browse-models",e,r),downloadModel:e=>o.ipcRenderer.invoke("download-model",e),getLocalModels:()=>o.ipcRenderer.invoke("get-local-models"),setActiveModel:e=>o.ipcRenderer.invoke("set-active-model",e),getActiveModel:()=>o.ipcRenderer.invoke("get-active-model"),savePersonality:e=>o.ipcRenderer.invoke("save-personality",e),getPersonality:e=>o.ipcRenderer.invoke("get-personality",e),updatePersonality:(e,r)=>o.ipcRenderer.invoke("update-personality",e,r),saveConversation:(e,r,n)=>o.ipcRenderer.invoke("save-conversation",e,r,n),getConversations:(e,r)=>o.ipcRenderer.invoke("get-conversations",e,r),clearConversations:e=>o.ipcRenderer.invoke("clear-conversations",e),saveNetworkStat:(e,r,n)=>o.ipcRenderer.invoke("save-network-stat",e,r,n),getNetworkStats:(e,r,n)=>o.ipcRenderer.invoke("get-network-stats",e,r,n)}),console.log("contextBridge exposed successfully")}catch(e){console.error("Failed to expose contextBridge:",e)}
